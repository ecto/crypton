<!DOCTYPE html>
<!--
    // TODO: LICENSE
-->
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
	<link rel="stylesheet" type="text/css" href="css/vendor/font-awesome.css" />
        <link rel="stylesheet" type="text/css" href="css/vendor/bootstrap.min.css" />
        <title>Messenger</title>
    </head>
    <body>
      <div id="header">
        <a href="#" id="tasks-btn">
          <i class="fa fa-bars"></i>
        </a>
        <span id="page-title">Crypton Messenger</span>
      </div>

      <div id="app" class="app container-fluid">
        <div id="alerts"></div>

	<ul id="top-menu" class="menu nav nav-stacked">
	  <li class="main-btn" id="my-messages">
	    <a href="#">
	      <span id="num-messages" class="badge pull-right">0</span>
	      <i class="fa fa-envelope"></i> <span>Messages</span>
	    </a>
	  </li>
	  <li class="main-btn" id="my-contacts">
	    <a href="#">
	      <i class="fa fa-users"></i> Contacts
	    </a>
	  </li>
	  <li class="main-btn" id="my-fingerprint">
	    <a href="#">
	      <i class="fa fa-user"></i> ID Card
	    </a>
	  </li>
	  <li class="main-btn" id="verify-id-card">
	    <a href="#">
	      <i class="fa fa-check-square-o"></i> Verify an ID Card
	    </a>
	  </li>
	  <li class="main-btn" id="logout">
	    <a href="#">
	      <i class="fa fa-sign-out"></i> Logout
	    </a>
	  </li>
	</ul>

	<div id="messages" class="view">
	  <ul id="message-list" class="nav nav-pills nav-stacked">
	  </ul>
	</div>

	<div id="find-users-view" class="view">
	  <div id="find-user-form" class="input-group input-group-lg">
	    <input id="find-someone" 
		   type="text"
		   size="12"
		   maxlength="32"
		   type="text" class="form-control">
	    <span class="input-group-btn btn-group-lg">
	      <button id="find-someone-btn" 
		      class="btn btn-default" 
		      type="button">Find User</button>
	    </span>
	  </div>

	</div>

	<div id="account-login" class="view active">
	  <form id="login-form" class="input-group input-group-lg">
	    <input placeholder="Username"
		   size="12"
		   maxlength="32"
		   class="form-control login-input" 
		   id="username-login" type="text" />
	    <input placeholder="Passphrase" 
		   size="12"
		   maxlength="32"
		   class="form-control login-input"
		   id="password-login" type="password" 
		   autocomplete="off" />
	  </form>

	  <div id="login-buttons">
	    <button class="btn btn-success"
		    id="login-btn">Login</button>
	    <button class="btn btn-primary" 
		    id="register-btn">Create Account</button>
	  </div>

	  <div id="login-status">
	    <span class="status"></span>
	  </div>

	  <div id="login-progress" 
	       class="progress progress-striped active">
	    <div class="progress-bar"  role="progressbar" 
		 aria-valuenow="100" aria-valuemin="0" 
		 aria-valuemax="100" style="width: 100%">
	    </div>
	  </div>
	</div>

	<div id="scan-select" class="view">
    <p>
      To add a contact, you must first have them send you
      their ID card. Depending on the medium they send it over,
      you may either scan it with your camera or load it from
      your phone.
    </p>
    <p>
      After you scan the image, you will be asked to verify
      the integrity of their fingerprint against one
      supplied by the server.
    </p>
	  <div id="scan-select-buttons">
	    <button type="button" 
		    class="btn btn-success"
		    id="scan">Scan QR</button>
	    <button type="button" 
		    class="btn btn-primary"
		    id="get-image">Load file</button>
	  </div>
	</div>

	<div id="contacts" class="view">
	  <ul id="contacts-list" class="nav nav-pills nav-stacked">
	  </ul>
	</div>

	<div id="contact-details" class="view">
	  
	  <div id="contact-details-buttons" 
	       class="btn-group btn-group-lg">
	    <button type="button"
		    class="btn btn-primary"
		    id="contacts-detail-message-btn">Message</button>
	    <button type="button"
		    class="btn btn-success"
		    id="contacts-detail-dismiss-btn">Done</button>
	  </div>
	</div>

	<div id="my-fingerprint-id" class="view">
	</div>

	<div id="peer-fingerprint-id" class="view">
	</div>

	<div id="compose-message" class="view">
	  <div id="compose-form" class="input-group input-group-lg">
	    <input placeholder="To"
		   size="20"
		   maxlength="64"
		   class="form-control" 
		   id="compose-recipient" type="text" 
		   disabled="true"/>
	    <input placeholder="Subject"
		   size="20"
		   maxlength="128"
		   class="form-control" 
		   id="compose-subject" type="text" />
	    <textarea placeholder="Write message here" 
		   maxlength="4096"
		   class="form-control"
		   id="compose-content"></textarea>
	    <div class="btn-group btn-group-lg">
	      <button type="button" 
		      class="btn btn-default"
		      id="compose-send-btn">Send</button> 
	      <button type="button"
		      class="btn btn-default"
		      id="compose-cancel">Cancel</button>
	    </div>
	  </div>
	</div>

	<div id="first-run" class="view">
	  <h3>Initial Setup</h3>
	  <p><strong>Congratulations! You've signed up for Crypton Messenger.</strong></p>
	  <p>
      Now that you have an account, you need to create an application <strong>ID Card</strong>, which identifies you to other users of this application you would like to communicate with.
	  </p>
	  <p>
	    Once you share this <strong>ID Card</strong> with another user, and you have received thiers, you can privately communicate with them.
	  </p>
    <br />
	  <p class="text-center">
	    <button class="btn btn-success" 
		    id="create-id-card">Create ID Card</button>
	  </p>
	</div>

	<div id="verify-user" class="view">
	  <div id="verify-user-success">
	    <h4>Success</h4>
	    <p id="verify-user-success-msg"></p>
	    <p>
	      <button id="verify-trust-save" 
		      class="btn btn-default">Trust & Save ID Card</button>
	      <button id="verify-trust-cancel" 
		      class="btn btn-default">Cancel</button>
	    </p>
	  </div>

	  <div id="verify-user-failure">
	    <h4>Failure</h4>
	    <p id="verify-user-failure-msg"></p>
	    <p>	      
	      <button id="verify-trust-failure-ok" 
		      class="btn btn-default">OK</button>
	      </p>
	  </div>
	</div>

	<div id="images" class="view">
	  <img id="picture"/>
	</div>

      </div>
        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/crypton.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/vendor/bootstrap.min.js"></script>
	<!-- BEGIN QR Code Reader --> 
	<script type="text/javascript" src="js/vendor/jsqrcode/grid.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/version.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/detector.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/formatinf.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/errorlevel.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/bitmat.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/datablock.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/bmparser.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/datamask.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/rsdecoder.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/gf256poly.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/gf256.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/decoder.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/qrcode.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/findpat.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/alignpat.js"></script>
	<script type="text/javascript" src="js/vendor/jsqrcode/databr.js"></script>
	<!-- END QR Code Reader --> 
        <script type="text/javascript">
            app.initialize();
        </script>
    </body>
</html>
